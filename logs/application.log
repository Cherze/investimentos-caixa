{"timestamp":"2025-11-20T22:37:17.805056074-03:00","sequence":2983,"loggerClassName":"org.jboss.logging.Logger","loggerName":"io.quarkus.config","level":"WARN","message":"The \"quarkus.log.file.enable\" config property is deprecated and should not be used anymore.","threadName":"Quarkus Main Thread","threadId":78,"mdc":{},"ndc":"","hostName":"bluejays-lenovo","processName":"/usr/lib/jvm/java-21-openjdk-amd64/bin/java","processId":104394}
{"timestamp":"2025-11-20T22:37:17.914326396-03:00","sequence":2987,"loggerClassName":"org.jboss.logging.Logger","loggerName":"io.quarkus","level":"INFO","message":"investimentos-caixa 1.0.0-SNAPSHOT on JVM (powered by Quarkus 3.29.4) started in 1.795s. Listening on: http://localhost:8080","threadName":"Quarkus Main Thread","threadId":78,"mdc":{},"ndc":"","hostName":"bluejays-lenovo","processName":"/usr/lib/jvm/java-21-openjdk-amd64/bin/java","processId":104394}
{"timestamp":"2025-11-20T22:37:17.915348771-03:00","sequence":2988,"loggerClassName":"org.jboss.logging.Logger","loggerName":"io.quarkus","level":"INFO","message":"Profile dev activated. Live Coding activated.","threadName":"Quarkus Main Thread","threadId":78,"mdc":{},"ndc":"","hostName":"bluejays-lenovo","processName":"/usr/lib/jvm/java-21-openjdk-amd64/bin/java","processId":104394}
{"timestamp":"2025-11-20T22:37:17.916131758-03:00","sequence":2989,"loggerClassName":"org.jboss.logging.Logger","loggerName":"io.quarkus","level":"INFO","message":"Installed features: [agroal, cdi, compose, hibernate-orm, hibernate-orm-panache, hibernate-validator, jdbc-h2, narayana-jta, rest, rest-jackson, scheduler, smallrye-context-propagation, smallrye-openapi, swagger-ui, vertx]","threadName":"Quarkus Main Thread","threadId":78,"mdc":{},"ndc":"","hostName":"bluejays-lenovo","processName":"/usr/lib/jvm/java-21-openjdk-amd64/bin/java","processId":104394}
{"timestamp":"2025-11-20T22:37:17.91708324-03:00","sequence":2990,"loggerClassName":"org.jboss.logging.Logger","loggerName":"io.quarkus.deployment.dev.RuntimeUpdatesProcessor","level":"INFO","message":"Live reload total time: 2.712s ","threadName":"Aesh InputStream Reader","threadId":41,"mdc":{},"ndc":"","hostName":"bluejays-lenovo","processName":"/usr/lib/jvm/java-21-openjdk-amd64/bin/java","processId":104394}
{"timestamp":"2025-11-20T22:40:14.395007444-03:00","sequence":2991,"loggerClassName":"org.jboss.logging.Logger","loggerName":"io.quarkus.deployment.dev.RuntimeUpdatesProcessor","level":"INFO","message":"Application restart not required, replacing classes via instrumentation","threadName":"vert.x-worker-thread-3","threadId":88,"mdc":{},"ndc":"","hostName":"bluejays-lenovo","processName":"/usr/lib/jvm/java-21-openjdk-amd64/bin/java","processId":104394}
{"timestamp":"2025-11-20T22:40:14.448278568-03:00","sequence":2992,"loggerClassName":"org.jboss.logging.Logger","loggerName":"io.quarkus.deployment.dev.RuntimeUpdatesProcessor","level":"INFO","message":"Live reload performed via instrumentation, no restart needed, total time: 0.457s ","threadName":"vert.x-worker-thread-3","threadId":88,"mdc":{},"ndc":"","hostName":"bluejays-lenovo","processName":"/usr/lib/jvm/java-21-openjdk-amd64/bin/java","processId":104394}
{"timestamp":"2025-11-20T22:40:14.483853207-03:00","sequence":2993,"loggerClassName":"org.jboss.logging.Logger","loggerName":"io.quarkus.vertx.http.runtime.QuarkusErrorHandler","level":"ERROR","message":"HTTP Request to /perfil-risco/7 failed, error id: 9bb9cb7f-c420-4980-9a6e-ad29a2a11f3d-3\n\nException in ClientePerfilRiscoService.java:137\n\t  135  \n\t  136          if (perfilExistente.isEmpty()) {\n\t→ 137              clienteRepository.persist(perfilRisco);\n\t  138          }\n\t  139      }\n\nException in ClientePerfilRiscoService.java:42\n\t  40  \n\t  41          // Salvar ou atualizar perfil\n\t→ 42          salvarPerfilRisco(clienteId, perfil, pontuacao, descricao, volumeInvestimentos, frequenciaMovimentacoes, preferenciaLiquidez);\n\t  43  \n\t  44          return new ClientePerfilRiscoResponse(clienteId, perfil, pontuacao, descricao);\n\nException in ClientePerfilRiscoResource.java:37\n\t  35          } else {\n\t  36              // Se não existe, calcula um novo perfil\n\t→ 37              ClientePerfilRiscoResponse novoPerfil = clientePerfilRiscoService.calcularPerfilRisco(clienteId);\n\t  38              return Response.ok(novoPerfil).build();\n\t  39          }\n\nException in ClientePerfilRiscoService.java:137\n\t  135  \n\t  136          if (perfilExistente.isEmpty()) {\n\t→ 137              clienteRepository.persist(perfilRisco);\n\t  138          }\n\t  139      }\n\nException in ClientePerfilRiscoService.java:42\n\t  40  \n\t  41          // Salvar ou atualizar perfil\n\t→ 42          salvarPerfilRisco(clienteId, perfil, pontuacao, descricao, volumeInvestimentos, frequenciaMovimentacoes, preferenciaLiquidez);\n\t  43  \n\t  44          return new ClientePerfilRiscoResponse(clienteId, perfil, pontuacao, descricao);\n\nException in ClientePerfilRiscoResource.java:37\n\t  35          } else {\n\t  36              // Se não existe, calcula um novo perfil\n\t→ 37              ClientePerfilRiscoResponse novoPerfil = clientePerfilRiscoService.calcularPerfilRisco(clienteId);\n\t  38              return Response.ok(novoPerfil).build();\n\t  39          }","threadName":"executor-thread-1","threadId":82,"mdc":{},"ndc":"","hostName":"bluejays-lenovo","processName":"/usr/lib/jvm/java-21-openjdk-amd64/bin/java","processId":104394,"exception":{"refId":1,"exceptionType":"jakarta.persistence.EntityExistsException","message":"Detached entity passed to persist: br.gov.caixa.model.Cliente","frames":[{"class":"org.hibernate.internal.ExceptionConverterImpl","method":"convert","line":109},{"class":"org.hibernate.internal.ExceptionConverterImpl","method":"convert","line":155},{"class":"org.hibernate.internal.ExceptionConverterImpl","method":"convert","line":161},{"class":"org.hibernate.internal.SessionImpl","method":"firePersist","line":698},{"class":"org.hibernate.internal.SessionImpl","method":"persist","line":676},{"class":"io.quarkus.hibernate.orm.runtime.session.TransactionScopedSession","method":"persist","line":167},{"class":"org.hibernate.engine.spi.SessionLazyDelegator","method":"persist","line":221},{"class":"org.hibernate.Session_x03UFp930IxQOyJJLmtWw2baujI_Synthetic_ClientProxy","method":"persist"},{"class":"io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations","method":"persist","line":113},{"class":"io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations","method":"persist","line":108},{"class":"io.quarkus.hibernate.orm.panache.PanacheRepositoryBase","method":"persist","line":66},{"class":"br.gov.caixa.repository.ClienteRepository_ClientProxy","method":"persist"},{"class":"br.gov.caixa.service.ClientePerfilRiscoService","method":"salvarPerfilRisco","line":137},{"class":"br.gov.caixa.service.ClientePerfilRiscoService_Subclass","method":"salvarPerfilRisco$$superforward"},{"class":"br.gov.caixa.service.ClientePerfilRiscoService_Subclass$$function$$4","method":"apply"},{"class":"io.quarkus.arc.impl.AroundInvokeInvocationContext","method":"proceed","line":73},{"class":"io.quarkus.arc.impl.AroundInvokeInvocationContext","method":"proceed","line":62},{"class":"io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase","method":"invokeInCallerTx","line":335},{"class":"io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired","method":"doIntercept","line":40},{"class":"io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase","method":"intercept","line":61},{"class":"io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired","method":"intercept","line":32},{"class":"io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired_Bean","method":"intercept"},{"class":"io.quarkus.arc.impl.InterceptorInvocation","method":"invoke","line":42},{"class":"io.quarkus.arc.impl.AroundInvokeInvocationContext","method":"perform","line":30},{"class":"io.quarkus.arc.impl.InvocationContexts","method":"performAroundInvoke","line":27},{"class":"br.gov.caixa.service.ClientePerfilRiscoService_Subclass","method":"salvarPerfilRisco"},{"class":"br.gov.caixa.service.ClientePerfilRiscoService","method":"calcularPerfilRisco","line":42},{"class":"br.gov.caixa.service.ClientePerfilRiscoService_Subclass","method":"calcularPerfilRisco$$superforward"},{"class":"br.gov.caixa.service.ClientePerfilRiscoService_Subclass$$function$$3","method":"apply"},{"class":"io.quarkus.arc.impl.AroundInvokeInvocationContext","method":"proceed","line":73},{"class":"io.quarkus.arc.impl.AroundInvokeInvocationContext","method":"proceed","line":62},{"class":"io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase","method":"invokeInOurTx","line":136},{"class":"io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase","method":"invokeInOurTx","line":107},{"class":"io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired","method":"doIntercept","line":38},{"class":"io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase","method":"intercept","line":61},{"class":"io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired","method":"intercept","line":32},{"class":"io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired_Bean","method":"intercept"},{"class":"io.quarkus.arc.impl.InterceptorInvocation","method":"invoke","line":42},{"class":"io.quarkus.arc.impl.AroundInvokeInvocationContext","method":"perform","line":30},{"class":"io.quarkus.arc.impl.InvocationContexts","method":"performAroundInvoke","line":27},{"class":"br.gov.caixa.service.ClientePerfilRiscoService_Subclass","method":"calcularPerfilRisco"},{"class":"br.gov.caixa.service.ClientePerfilRiscoService_ClientProxy","method":"calcularPerfilRisco"},{"class":"br.gov.caixa.resource.ClientePerfilRiscoResource","method":"obterPerfilRisco","line":37},{"class":"br.gov.caixa.resource.ClientePerfilRiscoResource$quarkusrestinvoker$obterPerfilRisco_3ab958f401c39b6e51f03863068b1ea093307dd4","method":"invoke"},{"class":"org.jboss.resteasy.reactive.server.handlers.InvocationHandler","method":"handle","line":29},{"class":"io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext","method":"invokeHandler","line":183},{"class":"org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext","method":"run","line":147},{"class":"io.quarkus.vertx.core.runtime.VertxCoreRecorder$15","method":"runWith","line":645},{"class":"org.jboss.threads.EnhancedQueueExecutor$Task","method":"doRunWith","line":2651},{"class":"org.jboss.threads.EnhancedQueueExecutor$Task","method":"run","line":2630},{"class":"org.jboss.threads.EnhancedQueueExecutor","method":"runThreadBody","line":1622},{"class":"org.jboss.threads.EnhancedQueueExecutor$ThreadBody","method":"run","line":1589},{"class":"org.jboss.threads.DelegatingRunnable","method":"run","line":11},{"class":"org.jboss.threads.ThreadLocalResettingRunnable","method":"run","line":11},{"class":"io.netty.util.concurrent.FastThreadLocalRunnable","method":"run","line":30},{"class":"java.lang.Thread","method":"run","line":1583}],"causedBy":{"exception":{"refId":2,"exceptionType":"org.hibernate.PersistentObjectException","message":"Detached entity passed to persist: br.gov.caixa.model.Cliente","frames":[{"class":"org.hibernate.event.internal.DefaultPersistEventListener","method":"persist","line":87},{"class":"org.hibernate.event.internal.DefaultPersistEventListener","method":"onPersist","line":76},{"class":"org.hibernate.event.internal.DefaultPersistEventListener","method":"onPersist","line":52},{"class":"org.hibernate.event.service.internal.EventListenerGroupImpl","method":"fireEventOnEachListener","line":140},{"class":"org.hibernate.internal.SessionImpl","method":"firePersist","line":692},{"class":"org.hibernate.internal.SessionImpl","method":"persist","line":676},{"class":"io.quarkus.hibernate.orm.runtime.session.TransactionScopedSession","method":"persist","line":167},{"class":"org.hibernate.engine.spi.SessionLazyDelegator","method":"persist","line":221},{"class":"org.hibernate.Session_x03UFp930IxQOyJJLmtWw2baujI_Synthetic_ClientProxy","method":"persist"},{"class":"io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations","method":"persist","line":113},{"class":"io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations","method":"persist","line":108},{"class":"io.quarkus.hibernate.orm.panache.PanacheRepositoryBase","method":"persist","line":66},{"class":"br.gov.caixa.repository.ClienteRepository_ClientProxy","method":"persist"},{"class":"br.gov.caixa.service.ClientePerfilRiscoService","method":"salvarPerfilRisco","line":137},{"class":"br.gov.caixa.service.ClientePerfilRiscoService_Subclass","method":"salvarPerfilRisco$$superforward"},{"class":"br.gov.caixa.service.ClientePerfilRiscoService_Subclass$$function$$4","method":"apply"},{"class":"io.quarkus.arc.impl.AroundInvokeInvocationContext","method":"proceed","line":73},{"class":"io.quarkus.arc.impl.AroundInvokeInvocationContext","method":"proceed","line":62},{"class":"io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase","method":"invokeInCallerTx","line":335},{"class":"io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired","method":"doIntercept","line":40},{"class":"io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase","method":"intercept","line":61},{"class":"io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired","method":"intercept","line":32},{"class":"io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired_Bean","method":"intercept"},{"class":"io.quarkus.arc.impl.InterceptorInvocation","method":"invoke","line":42},{"class":"io.quarkus.arc.impl.AroundInvokeInvocationContext","method":"perform","line":30},{"class":"io.quarkus.arc.impl.InvocationContexts","method":"performAroundInvoke","line":27},{"class":"br.gov.caixa.service.ClientePerfilRiscoService_Subclass","method":"salvarPerfilRisco"},{"class":"br.gov.caixa.service.ClientePerfilRiscoService","method":"calcularPerfilRisco","line":42},{"class":"br.gov.caixa.service.ClientePerfilRiscoService_Subclass","method":"calcularPerfilRisco$$superforward"},{"class":"br.gov.caixa.service.ClientePerfilRiscoService_Subclass$$function$$3","method":"apply"},{"class":"io.quarkus.arc.impl.AroundInvokeInvocationContext","method":"proceed","line":73},{"class":"io.quarkus.arc.impl.AroundInvokeInvocationContext","method":"proceed","line":62},{"class":"io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase","method":"invokeInOurTx","line":136},{"class":"io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase","method":"invokeInOurTx","line":107},{"class":"io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired","method":"doIntercept","line":38},{"class":"io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase","method":"intercept","line":61},{"class":"io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired","method":"intercept","line":32},{"class":"io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired_Bean","method":"intercept"},{"class":"io.quarkus.arc.impl.InterceptorInvocation","method":"invoke","line":42},{"class":"io.quarkus.arc.impl.AroundInvokeInvocationContext","method":"perform","line":30},{"class":"io.quarkus.arc.impl.InvocationContexts","method":"performAroundInvoke","line":27},{"class":"br.gov.caixa.service.ClientePerfilRiscoService_Subclass","method":"calcularPerfilRisco"},{"class":"br.gov.caixa.service.ClientePerfilRiscoService_ClientProxy","method":"calcularPerfilRisco"},{"class":"br.gov.caixa.resource.ClientePerfilRiscoResource","method":"obterPerfilRisco","line":37},{"class":"br.gov.caixa.resource.ClientePerfilRiscoResource$quarkusrestinvoker$obterPerfilRisco_3ab958f401c39b6e51f03863068b1ea093307dd4","method":"invoke"},{"class":"org.jboss.resteasy.reactive.server.handlers.InvocationHandler","method":"handle","line":29},{"class":"io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext","method":"invokeHandler","line":183},{"class":"org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext","method":"run","line":147},{"class":"io.quarkus.vertx.core.runtime.VertxCoreRecorder$15","method":"runWith","line":645},{"class":"org.jboss.threads.EnhancedQueueExecutor$Task","method":"doRunWith","line":2651},{"class":"org.jboss.threads.EnhancedQueueExecutor$Task","method":"run","line":2630},{"class":"org.jboss.threads.EnhancedQueueExecutor","method":"runThreadBody","line":1622},{"class":"org.jboss.threads.EnhancedQueueExecutor$ThreadBody","method":"run","line":1589},{"class":"org.jboss.threads.DelegatingRunnable","method":"run","line":11},{"class":"org.jboss.threads.ThreadLocalResettingRunnable","method":"run","line":11},{"class":"io.netty.util.concurrent.FastThreadLocalRunnable","method":"run","line":30},{"class":"java.lang.Thread","method":"run","line":1583}]}}}}
{"timestamp":"2025-11-20T22:48:40.85551324-03:00","sequence":2994,"loggerClassName":"org.jboss.logging.Logger","loggerName":"io.quarkus.deployment.dev.RuntimeUpdatesProcessor","level":"INFO","message":"Application restart not required, replacing classes via instrumentation","threadName":"vert.x-worker-thread-3","threadId":88,"mdc":{},"ndc":"","hostName":"bluejays-lenovo","processName":"/usr/lib/jvm/java-21-openjdk-amd64/bin/java","processId":104394}
{"timestamp":"2025-11-20T22:48:40.921490165-03:00","sequence":2995,"loggerClassName":"org.jboss.logging.Logger","loggerName":"io.quarkus.deployment.dev.RuntimeUpdatesProcessor","level":"INFO","message":"Live reload performed via instrumentation, no restart needed, total time: 0.228s ","threadName":"vert.x-worker-thread-3","threadId":88,"mdc":{},"ndc":"","hostName":"bluejays-lenovo","processName":"/usr/lib/jvm/java-21-openjdk-amd64/bin/java","processId":104394}
{"timestamp":"2025-11-20T22:48:59.546365404-03:00","sequence":2996,"loggerClassName":"org.jboss.logging.Logger","loggerName":"io.quarkus","level":"INFO","message":"investimentos-caixa stopped in 0.012s","threadName":"Shutdown thread","threadId":79,"mdc":{},"ndc":"","hostName":"bluejays-lenovo","processName":"/usr/lib/jvm/java-21-openjdk-amd64/bin/java","processId":104394}
